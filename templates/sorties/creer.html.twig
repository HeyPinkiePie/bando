{% extends 'base.html.twig' %}

{% block title %}Créer une sortie{% endblock %}

{% block body %}
    <script src="{{ asset('JS/VillesEtLieux.js') }}"></script>
{#    <script>#}
{#        document.addEventListener('DOMContentLoaded', function() {#}
{#            var elems = document.querySelectorAll('select');#}
{#            var instances = M.FormSelect.init(elems, "");#}
{#        });#}
{#    </script>#}
    <h1>Créer une sortie</h1>

    {{ form_start(form) }}
    {{ form_row(form.nom) }}
    {{ form_row(form.debutSortie) }}
    <label for="duree" >Durée</label><input type="number" id="duree" name="duree" min="30"  step="10" value="30" required>minutes
    {{ form_row(form.dateLimiteInscription) }}
    {{ form_row(form.nombreInscriptionsMax) }}
    {{ form_row(form.infosSortie) }}
    {{ form_row(form.campus) }}

    {#--------- section villes ------------#}

    <label for="choixVille"> Ville
        <select id="choixVille" name="choixVille" required onchange="chargerLesLieux(value)">
                <option  disabled selected>choisissez une ville:</option>
            {% for ville in villes %}
                <option value="{{ ville.id }}"> {{ ville.nom }}</option>
            {% endfor %}
        </select>
    </label>

{#--------- section Lieux ------------#}
{#    <label for="choixLieux"> Lieu#}
{#        <select id="choixLieux" name="choixLieux"  required onchange="afficherUnLieu(value)">#}
{#            <option  disabled selected>choisissez d'abord une ville:</option>#}
{#        </select>#}
{#    </label>#}
    <section id="choixLieux"></section>

    <section id="afficheLieu"></section>

    {#--------- section boutons ------------#}
    <input type="submit" name="Creer" value="Créer">
    <input type="submit" name="Publier" value="Publier">
    <a href="{{ path('sorties_liste') }}"><input type="button" name="Annuler" value="Annuler" ></a>
    {{ form_end(form) }}
{% endblock %}


